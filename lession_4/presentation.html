<!doctype html>
<html>
	<head>
        <meta charset="utf-8">
		<link rel="stylesheet" href="/css/svg-icons.css">
    <link rel="stylesheet" href="/css/webslides.css">
    <link rel="stylesheet" href="/css/prism.css">
	</head>
	<body>
    <script src="/js/webslides.min.js"></script>
    <script src="/js/svg-icons.js"></script>
    <script src="/js/prism.js"></script>
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]},
        processEscapes: true
      });
      </script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML' async></script>


    <article id="webslides">
        <section class="bg-blue">
            <h2>Monads</h2>
            <span class="subtitle">At last</span>
          </section>
          <section class="bg-red">
            <h2>Why though?</h2>
            <ul>
              <li>
                <h5>Monads have somehow become a meme</h5>
              </li>
              <li>
                <h5>Understanding monads is required to know how IO works</h5>
              </li>
              <li>
                <h5>This course is intentionally going very fast, because you're programmed before</h5>
              </li>
            </ul>
          </section>
          <section class="bg-red">
            <h2>Monad</h2>
            <pre>
              <code class="language-haskell">
                class Monad m where
                  (>>=) :: m a -> (a -> m b) -> m b
                  -- Other stuff emitted for clarity
              </code> 
            </pre>
          </section>
    
          <section class="bg-blue">
            <h2>So what is it?</h2>
            <ul>
              <li>
                <h5>Take a value in a context</h5>
              </li>
              <li>
                <h5>Take a function that <em>returns</em> a value in a context</h5>
              </li>
              <li>
                <h5>Combine them together</h5>
              </li>
            </ul>
          </section>
          <section class="bg-blue">
            <h2>Why, though?</h2>
            <pre>
              <code class="language-haskell">
                safeDivide :: Int -> Int -> Maybe Int
    
                res :: Maybe Int 
                res = safeDivide a b
    
                res2 :: ?
                res2 = safeDivide c res -- Doesn't works
                res2 = safeDivide c &lt;$&gt; res -- is a Maybe (Maybe Int)!!
              </code>
            </pre>
          </section>
          <section>
            <h3>Monads fix this problem!</h3>
            <pre>
              <code class="language-haskell">
                res2 = res >>= \res' -> safeDivide c res
                -- or
                res2 = res >>= safeDivide c
              </code>
            </pre>
          </section>
    
          <section>
              <h3>An example</h3>
              <pre>
                <code class="language-haskell">
                  -- not valid haskell syntax without extensions, but w/e
                  instance Monad Maybe where
                    (>>=) :: Maybe a -> (a -> Maybe b) -> Maybe b
                    Nothing >>= _ = Nothing
                    (Just a) >>= f = f a 
                </code>
              </pre>
            </section>
    
          <section>
            <h3>Another way to think about it</h3>
            <pre>
              <code class="language-haskell">
                class EquivalentToMonad m where
                  join :: m (m a) -> m a
                  -- get out of one level of context
    
                  join x = x >>= id
              </code>
            </pre>
          </section>
    
          <section>
            <h2>Lying less</h2>
            <ul>
              <li>
                <h5>Monad has <code>return</code>, which is just <code>pure</code></h5>
              </li>
              <li>
                <h5>Monad has <code>fail</code>, which is a mistake (that they're gonna get rid of)</h5>
              </li>
              <li>
                <h5>Applicative has <code>*></code> and <code>&lt;*</code>, which sequence two actions (more on that next week)</h5>
              </li>
            </ul>
          </section>
        </article>
    </article>
    
		<script>
			window.ws = new WebSlides()
		</script>
	</body>
</html>
